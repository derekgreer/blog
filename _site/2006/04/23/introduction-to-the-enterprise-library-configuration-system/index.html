<!DOCTYPE html>
<html lang="en-us">

<head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <link rel="stylesheet" href="/assets/css/normalize.css"/>
  <link rel="stylesheet" href="/assets/css/bulma.css"/>
  <link rel="stylesheet" href="/assets/css/highlight.css"/>
  <link rel="stylesheet" href="/assets/css/custom.css"/>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <link href="https://fonts.googleapis.com/css?family=Open+Sans|Roboto" rel="stylesheet">

  <!-- Icons -->
  <link rel="shortcut icon" href="/assets/images/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="http://feeds.feedburner.com/AspiringCraftsman">

  <title>
    
      Introduction to the Enterprise Library Configuration System &middot; Aspiring Craftsman
    
  </title>

</head>


<body>

<section class="hero is-dark">
  <div class="hero-body">
    <div class="container">
      <h1 class="title">Aspiring Craftsman</h1><div>pursuing well-crafted software</div>
<!--
          <span class="typewrite" data-period="2000" data-type='[ "pursuing well-crafted software"]'>
            <span class="wrap"></span>
          </span>
-->
      <!--
      <h4 class="subtitle" id="quote">
      </h4>
      -->
    </div>
  </div>
</section>

<div class="main-container">
  <div class="tile is-ancestor is-vertical">


    <nav class="nav has-shadow">

      <div class="nav-left">

        <a href="/" class="nav-item">
          <span class="icon">
            <i class="fa fa-home" aria-hidden="true" title="Homepage"></i>
          </span>
        </a>

        <a href="https://github.com/derekgreer" class="nav-item">
          <span class="icon">
            <i class="fa fa-github" aria-hidden="true" title="Github"></i>
          </span>
        </a>

        <div class="nav-item" id="searchFieldNav">
          <div class="field has-addons">
            <p class="control">
              <input class="input is-small" type="text" placeholder="Find an article" id="search-text">
            </p>
            <p class="control">
              <a class="button is-dark is-small" onclick="searchHandler();">
                Search
              </a>
            </p>
          </div>
        </div>

      </div>

      <div class="nav-right nav-menu" id='nav-menu'>
        <a href="/archive" class="nav-item">Archive</a>
        <a href="/tags" class="nav-item">Tags</a>
        <a href="http://feeds.feedburner.com/AspiringCraftsman" class="nav-item"><img src="/assets/images/rss.png"/></a>
      </div>

      <span class="nav-toggle" id="nav-toggle">
          <span></span>
          <span></span>
          <span></span>
    </nav>

    <div class="tile is-parent">
      <div class="tile is-8 is-child main">

        <div class="box">
    <h1 class="post-title">Introduction to the Enterprise Library Configuration System</h1>
    <span class="post-meta">23 April, 2006. It was a Sunday. <a style="color:grey" href="#disqus_thread"></a></span><hr/>

    <span class="post-text"><p>The goal of this article is to provide a high level introduction to the Enterprise Library configuration system. A thorough discussion of this topic and the underlying dependency injection subsystem is deserving of a series of detailed articles, but hopefully this article will provide a base foundation for understanding Enterprise Library’s new approach to configuration.</p>

<h2 id="overview">Overview</h2>

<p>The <noindex></noindex> Enterprise Library configuration system is built upon ObjectBuilder, a dependency injection/Inversion of Control (IoC) framework, and provides a standard approach for the creation of the main components within the Enterprise Library Application Blocks. While the Enterprise Library strategy for object creation relies upon the ObjectBuilder architecture developed within the Composite Application Block (CAB), Enterprise Library introduces its own set of Strategies, Policies, and helper components for working with ObjectBuilder which merits discussion apart from the ObjectBuilder system proper.</p>

<h2 id="main-components">Main Components</h2>

<p>Enterprise Library uses a consistent approach internally for instantiating all of its main application block components which is necessary to understand if attempting to develop application blocks consistent with the Enterprise Library architecture.</p>

<p>The main classes used in the object creation lifecycle are as follows:</p>

<ul>
  <li>Static Factory Classes</li>
  <li>Instance Factory Classes</li>
  <li>The EnterpriseLibraryFactory Class</li>
  <li>The ObjectBuilder</li>
  <li>Custom Factory Classes</li>
  <li>Assemblers</li>
</ul>

<p>While these are certainly not all the components used, these represent the main classes within Enterprise Library’s object building strategy.</p>

<p>The basic call chain is as follows:</p>

<ol>
  <li>A method within a static factory class is called to create one of the desired components within Enterprise Library (e.g. DatabaseFactory).</li>
  <li>The static factory class calls an instance based factory class (e.g. DatabaseProviderFactory) which has been statically created with the default configuration source location.</li>
  <li>The instance factory calls an Enterprise Library helper factory named EnterpriseLibraryFactory which interfaces with the ObjectBuilder dependency injection subsystem.</li>
  <li>ObjectBuilder in turn calls a custom factory which is created as part of the ConfiguredObjectStrategy.</li>
  <li>The custom factory then creates a class known as an Assembler which performs the logic necessary to construct the desired object.</li>
</ol>

<p>The following is a brief discussion of each of the main elements within the configuration system:</p>

<h2 id="static-factories">Static Factories</h2>

<p>Static factories within Enterprise Library provide static default and named instance factory methods for creating the desired objects from the default configuration source location. These factories are intended for the most commonly used scenarios where configuration information is obtained from the default location.</p>

<p>Examples of these factories within Enterprise Library include the CacheFactory, DatabaseFactory, LogWriterFactory, and the AuthorizationFactory. All of these factories will internally instantiate an “Instance Factory” for creating the desired objects.</p>

<h2 id="instance-factories-nametypefactorybase-factories">Instance Factories (NameTypeFactoryBase Factories)</h2>

<p>Instance factories provide default and named instance factory methods for obtaining the desired objects from the specified configuration source. These factories are generally only used directly when a specific configuration source location is desired. In all cases within the Enterprise Library application blocks, specific instance factories only serve to provide strongly typed instances of type NameTypeFactoryBase. The instance factories, by virtue of extending NameTypeFactoryBase, interface with the EnterpriseLibraryFactory class which facilitates the calls to ObjectBuilder with the Enterprise Library defined Strategies.</p>

<p>Examples of these factories within Enterprise Library include the CacheManagerFactory, DatabaseProviderFactory, LogWriterFactory, and the AuthorizationProviderFactory.</p>

<h2 id="enterpriselibraryfactory">EnterpriseLibraryFactory</h2>

<p>The EnterpriseLibraryFactory performs all the interaction with the underlying dependency injection subsystem. It provides static methods which interface with ObjectBuilder, and performs the initial setup of the standard Strategies and Policies used with the DI subsystem during the object creation life cycle. The key strategy used is the “ConfiguredObjectStrategy” which is discussed further in the Custom Factories section below.</p>

<h2 id="objectbuilder">ObjectBuilder</h2>

<p>The ObjectBuilder is a dependency injection (DI) / inversion of control (IoC) object creation pipeline framework which allows for highly customizable object creation strategies to be developed. The basic concept surrounds the use of Strategies which allows for tailoring what takes place during different stages of an object’s creation life-cycle. Enterprise Library has developed Strategies for the ObjectBuilder component to allow for configuration driven object creation among other specialized needs.</p>

<h2 id="custom-factories">Custom Factories</h2>

<p>Custom factories are special factories designed to work with the Enterprise Library object creation system. Unlike the static and instance factories, custom factories are not intended to be used directly by code consuming the Enterprise Library application blocks.</p>

<p>At a high level, custom factories are used by the Enterprise Library object creation system to fulfill the work of creating the actual instance of the object.</p>

<p>Custom factories are used by the “ConfiguredObjectStrategy” of Enterprise Library which facilitates the delegation of the object’s creation to a factory class. The ConfiguredObjectStrategy is one of the PreCreation ObjectBuilder strategies used by Enterprise Library which maps the type being created with a factory for that type. This factory class is derived through reflection from the CustomFactoryAttribute of the type being created. Each custom factory is responsible for knowing the specific configuration section needed for the creation of the desired type and delegates the actual creation of the object to another class type known as an “Assembler”.</p>

<h2 id="assemblers">Assemblers</h2>

<p>Assemblers are at the end of the call chain and are the actual classes which create the desired type. These classes are used by the custom factories and are derived through reflection from the AssemblerAttribute of the ConfigurationElement type representing the type’s configuration data. The assembler is specific to a given type and knows how to use the configuration data to call specific constructors of the type being created.</p>

<h2 id="conclusion">Conclusion</h2>

<p>Hopefully this brief article has served as a good starting point for understanding the Enterprise Library configuration strategy. For those wishing to read a more detailed treatment of this topic, please refer to Brian Button’s blog entry: <a href="http://www.agileprogrammer.com/oneagilecoder/archive/2006/01/03/10564.aspx">Enterprise Library and Object Builder</a>.</p>
</span>
</div>

<!--<div class="box">-->
    <!-- google ads code box -->
<!--</div>-->




  <div id="disqus_thread"></div>
<script type="text/javascript">
    
    var disqus_developer = 1;
    var disqus_shortname = 'aspiringcraftsman'; // required: replace example with your forum shortname
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>






      </div>

      <div class="tile is-4 is-child">
        <div class="tile is-parent is-vertical sidebar">

          <div class="tile is-child widget">

            <div class="card">
              <header class="card-header">
                <p class="card-header-title nice-title">
                  Recent Posts
                </p>
              </header>
              <div class="card-content">
                <div class="content nice-text">
                  <ul>
                  
                  <li><a href="/2017/05/25/hello-react-a-beginners-setup-tutorial/">
                    Hello, React! - A Beginner's Setup Tutorial
                  </a></li>
                  
                  <li><a href="/2016/08/30/exploring-typescript/">
                    Exploring TypeScript
                  </a></li>
                  
                  <li><a href="/2016/08/22/git-on-windows-whence-cometh-configuration/">
                    Git on Windows: Whence Cometh Configuration
                  </a></li>
                  
                  <li><a href="/2016/02/28/separation-of-concerns-application-builds-continuous-integration/">
                    Separation of Concerns: Application Builds & Continuous Integration
                  </a></li>
                  
                  <li><a href="/2015/11/01/survey-of-entity-framework-unit-of-work-patterns/">
                    Survey of Entity Framework Unit of Work Patterns
                  </a></li>
                  
                  <li><a href="/2015/03/08/introducing-nunit-specifications/">
                    Introducing NUnit.Specifications
                  </a></li>
                  
                  <li><a href="/2014/03/05/being-agile/">
                    Being Agile
                  </a></li>
                  
                  <li><a href="/2013/11/17/expected-objects-custom-comparisons/">
                    Expected Objects Custom Comparisons
                  </a></li>
                  
                  <li><a href="/2013/04/17/rabbitbus-an-example/">
                    RabbitBus: An Example
                  </a></li>
                  
                  <li><a href="/2013/01/27/adventures-in-debugging-the-nhibernate-dont-flush-the-session-error/">
                    Adventures in Debugging: The NHibernate 'don't flush the Session' Error
                  </a></li>
                  
                  </ul>
                </div>
              </div>
            </div>
          </div>

          <div class="tile is-child widget">
            <div class="card">
              <header class="card-header">
                <p class="card-header-title nice-title">
                  Recommended Websites
                </p>
              </header>
              <div class="card-content">
                <div class="content nice-text">
                  <ul>
                    <li>
                      <a href="https://lostechies.com">Los Techies</a>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>

        </div>

      </div>

    </div>

  </div>
</div>

<footer class="footer">
  <div class="container">
    <div class="content has-text-centered">
      <p>
      <a class="icon" href="https://github.com/derekgreer">
          <i class="fa fa-github" title="Github"></i>
        </a>
        <a class="icon" href="https://in.linkedin.com/in/derekgreer">
          <i class="fa fa-linkedin" title="Linkedin"></i>
        </a>
        <a class="icon" href="mailto:dbgreer@gmail.com">
          <i class="fa fa-envelope" title="Email"></i>
        </a>
      </p>
    </div>
  </div>
</footer>

<!-- js -->
<script src="/assets/js/custom.js"></script>
<script src="/assets/js/typewriter.js"></script>
</body>
</html>
